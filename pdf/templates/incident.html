<!DOCTYPE html>
<html lang="nl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Incidentrapport</title>
    <style>
        /* Base styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
            padding: 30px;
        }

        .report-container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.08);
        }

        /* Company header */
        .company-header {
            padding: 30px 40px;
            background: #fff;
            border-bottom: 1px solid #eaeaea;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .company-info {
            flex: 1;
        }

        .company-info h1 {
            font-size: 22px;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .company-info p {
            font-size: 13px;
            color: #7f8c8d;
            margin-bottom: 3px;
        }

        .logo-placeholder {
            width: 120px;
            height: 80px;
            background: #f8f9fa;
            border: 1px dashed #d1d8e0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #95a5a6;
            font-size: 13px;
            text-align: center;
            padding: 10px;
        }

        /* Report header */
        .report-header {
            padding: 25px 40px;
            background: #2c3e50;
            color: white;
            text-align: center;
        }

        .report-header h2 {
            font-size: 24px;
            margin-bottom: 10px;
            font-weight: 500;
        }

        .report-id {
            font-size: 15px;
            letter-spacing: 0.5px;
        }

        /* Summary section */
        .summary {
            padding: 25px 40px;
            background: #f8f9fa;
            border-bottom: 1px solid #eaeaea;
        }

        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 20px;
        }

        .summary-item h3 {
            font-size: 13px;
            text-transform: uppercase;
            color: #7f8c8d;
            margin-bottom: 5px;
            letter-spacing: 0.5px;
        }

        .summary-item p {
            font-size: 15px;
            font-weight: 500;
            color: #2c3e50;
        }

        /* Main content */
        .content {
            padding: 30px 40px;
        }

        .section {
            margin-bottom: 35px;
            padding-bottom: 25px;
            border-bottom: 1px solid #eaeaea;
        }

        .section:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .section-header {
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #3498db;
        }

        .section-header h3 {
            font-size: 18px;
            color: #2c3e50;
            font-weight: 500;
        }

        /* Incident types - Improved contrast */
        .incident-types {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .type-card {
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            padding: 15px;
            background: #ffffff;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .type-card.active {
            background: #e8f5e8;
            border-color: #27ae60;
            box-shadow: 0 4px 8px rgba(39, 174, 96, 0.15);
        }

        .type-card.inactive {
            background: #f8f9fa;
            border-color: #ddd;
            opacity: 0.7;
        }

        .type-card h4 {
            font-size: 14px;
            margin-bottom: 8px;
            color: #2c3e50;
            font-weight: 600;
        }

        .type-card.active h4 {
            color: #27ae60;
        }

        .type-card p {
            font-size: 13px;
            color: #7f8c8d;
            font-weight: 500;
        }

        .type-card.active p {
            color: #27ae60;
        }

        /* Status indicator */
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
            background: #e74c3c;
        }

        .status-indicator.active {
            background: #27ae60;
        }

        /* Details */
        .detail-row {
            display: flex;
            margin-bottom: 15px;
            align-items: flex-start;
        }

        .detail-label {
            flex: 0 0 220px;
            font-weight: 500;
            color: #2c3e50;
            padding-top: 2px;
        }

        .detail-value {
            flex: 1;
            color: #34495e;
        }

        /* List styling for array fields */
        .list-items {
            margin: 0;
            padding: 0;
            list-style: none;
        }

        .list-items li {
            background: #f8f9fa;
            padding: 6px 12px;
            margin-bottom: 4px;
            border-radius: 4px;
            border-left: 3px solid #3498db;
            font-size: 14px;
        }

        .list-items li:last-child {
            margin-bottom: 0;
        }

        /* Empty state */
        .empty-state {
            color: #95a5a6;
            font-style: italic;
            font-size: 14px;
        }

        /* Severity indicator */
        .severity-indicator {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 4px;
            font-weight: 500;
            background: #e74c3c;
            color: white;
            font-size: 14px;
        }

        .severity-indicator.high {
            background: #e74c3c;
        }

        .severity-indicator.medium {
            background: #f39c12;
        }

        .severity-indicator.low {
            background: #27ae60;
        }

        /* Boolean field styling */
        .boolean-value {
            display: inline-flex;
            align-items: center;
            font-weight: 500;
        }

        .boolean-value.true {
            color: #27ae60;
        }

        .boolean-value.false {
            color: #e74c3c;
        }

        .boolean-value::before {
            content: '';
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 8px;
            background: currentColor;
        }

        /* Footer */
        .footer {
            padding: 20px 40px;
            background: #f8f9fa;
            color: #7f8c8d;
            font-size: 13px;
            border-top: 1px solid #eaeaea;
            display: flex;
            justify-content: space-between;
        }

        .signature-area {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px dashed #bdc3c7;
        }

        .signature-line {
            width: 250px;
            margin-bottom: 30px;
            padding-bottom: 5px;
            border-bottom: 1px solid #95a5a6;
        }

        .signature-label {
            font-size: 13px;
            color: #7f8c8d;
        }

        /* Print adjustments */
        @media print {
            body {
                background: white;
                padding: 0;
            }

            .report-container {
                box-shadow: none;
                margin: 0;
            }

            .type-card {
                box-shadow: none;
            }
        }
    </style>
</head>

<body>
    <div class="report-container">
        <div class="company-header">
            <div class="company-info">
                <h1>Maicare</h1>
                <p>123 Corporate Boulevard, Suite 500</p>
                <p>New York, NY 10001, Verenigde Staten</p>
                <p>Telefoon: (555) 123-4567 | E-mail: info@company.com</p>
                <p>Website: www.company.com</p>
            </div>
            <img src="https://www.maicare.online/images/logo/logo.ico" alt="Bedrijfslogo" class="logo-placeholder"
                style="object-fit:contain; background:none; border:none; width:120px; height:80px;" />
        </div>

        <div class="report-header">
            <h2>INCIDENTRAPPORT</h2>
            <div class="report-id">Rapport ID: {{.ID}}</div>
        </div>

        <div class="summary">
            <div class="summary-grid">
                <div class="summary-item">
                    <h3>Datum van Incident</h3>
                    <p>{{.IncidentDate.Format "2 januari 2006 15:04"}}</p>
                </div>
                <div class="summary-item">
                    <h3>Gerapporteerd Door</h3>
                    <p>{{.EmployeeFirstName}} {{.EmployeeLastName}}</p>
                </div>
                <div class="summary-item">
                    <h3>Locatie</h3>
                    <p>{{.LocationName}} (ID: {{.LocationID}})</p>
                </div>
                <div class="summary-item">
                    <h3>Ernst</h3>
                    <p><span class="severity-indicator {{.SeverityOfIncident | lower}}">{{.SeverityOfIncident}}</span>
                    </p>
                </div>
            </div>
        </div>

        <div class="content">
            <div class="section">
                <div class="section-header">
                    <h3>1. Betrokken Partijen</h3>
                </div>

                <div class="detail-row">
                    <div class="detail-label">Medewerker</div>
                    <div class="detail-value">
                        {{.EmployeeFirstName}} {{.EmployeeLastName}} (ID: {{.EmployeeID}})
                    </div>
                </div>

                <div class="detail-row">
                    <div class="detail-label">Cliënt</div>
                    <div class="detail-value">
                        {{if .ClientID}}
                        {{.ClientFirstName}} {{.ClientLastName}} (ID: {{.ClientID}})
                        {{else}}
                        <span class="empty-state">Niet van toepassing</span>
                        {{end}}
                    </div>
                </div>

                <div class="detail-row">
                    <div class="detail-label">Betrokkenheid Melder</div>
                    <div class="detail-value">{{.ReporterInvolvement}}</div>
                </div>

                <div class="detail-row">
                    <div class="detail-label">Geïnformeerde Partijen</div>
                    <div class="detail-value">
                        {{if .InformWho}}
                        <ul class="list-items">
                            {{range .InformWho}}
                            <li>{{.}}</li>
                            {{end}}
                        </ul>
                        {{else}}
                        <span class="empty-state">Geen partijen geïnformeerd</span>
                        {{end}}
                    </div>
                </div>
            </div>

            <div class="section">
                <div class="section-header">
                    <h3>2. Incidentdetails</h3>
                </div>

                <div class="detail-row">
                    <div class="detail-label">Incidenttype</div>
                    <div class="detail-value">{{.IncidentType}}</div>
                </div>

                <div class="detail-row">
                    <div class="detail-label">Incident Tijdens Dienst</div>
                    <div class="detail-value">{{.RuntimeIncident}}</div>
                </div>

                <div class="detail-row">
                    <div class="detail-label">Toelichting Incident</div>
                    <div class="detail-value">
                        {{if .IncidentExplanation}}
                        {{.IncidentExplanation}}
                        {{else}}
                        <span class="empty-state">Geen toelichting gegeven</span>
                        {{end}}
                    </div>
                </div>

                <div class="section-header" style="margin-top: 25px; border-bottom-color: #95a5a6;">
                    <h4>Incidentcategorieën</h4>
                </div>
                <div class="incident-types">
                    <div class="type-card {{if .PassingAway}}active{{else}}inactive{{end}}">
                        <h4><span class="status-indicator {{if .PassingAway}}active{{end}}"></span>Overlijden</h4>
                        <p>{{if .PassingAway}}Gerapporteerd{{else}}Niet gerapporteerd{{end}}</p>
                    </div>
                    <div class="type-card {{if .SelfHarm}}active{{else}}inactive{{end}}">
                        <h4><span class="status-indicator {{if .SelfHarm}}active{{end}}"></span>Zelfbeschadiging</h4>
                        <p>{{if .SelfHarm}}Gerapporteerd{{else}}Niet gerapporteerd{{end}}</p>
                    </div>
                    <div class="type-card {{if .Violence}}active{{else}}inactive{{end}}">
                        <h4><span class="status-indicator {{if .Violence}}active{{end}}"></span>Geweld</h4>
                        <p>{{if .Violence}}Gerapporteerd{{else}}Niet gerapporteerd{{end}}</p>
                    </div>
                    <div class="type-card {{if .FireWaterDamage}}active{{else}}inactive{{end}}">
                        <h4><span
                                class="status-indicator {{if .FireWaterDamage}}active{{end}}"></span>Brand-/Waterschade
                        </h4>
                        <p>{{if .FireWaterDamage}}Gerapporteerd{{else}}Niet gerapporteerd{{end}}</p>
                    </div>
                    <div class="type-card {{if .Accident}}active{{else}}inactive{{end}}">
                        <h4><span class="status-indicator {{if .Accident}}active{{end}}"></span>Ongeval</h4>
                        <p>{{if .Accident}}Gerapporteerd{{else}}Niet gerapporteerd{{end}}</p>
                    </div>
                    <div class="type-card {{if .ClientAbsence}}active{{else}}inactive{{end}}">
                        <h4><span class="status-indicator {{if .ClientAbsence}}active{{end}}"></span>Afwezigheid Cliënt
                        </h4>
                        <p>{{if .ClientAbsence}}Gerapporteerd{{else}}Niet gerapporteerd{{end}}</p>
                    </div>
                    <div class="type-card {{if .Medicines}}active{{else}}inactive{{end}}">
                        <h4><span class="status-indicator {{if .Medicines}}active{{end}}"></span>Medicijnen</h4>
                        <p>{{if .Medicines}}Gerapporteerd{{else}}Niet gerapporteerd{{end}}</p>
                    </div>
                    <div class="type-card {{if .Organization}}active{{else}}inactive{{end}}">
                        <h4><span class="status-indicator {{if .Organization}}active{{end}}"></span>Organisatie</h4>
                        <p>{{if .Organization}}Gerapporteerd{{else}}Niet gerapporteerd{{end}}</p>
                    </div>
                    <div class="type-card {{if .UseProhibitedSubstances}}active{{else}}inactive{{end}}">
                        <h4><span class="status-indicator {{if .UseProhibitedSubstances}}active{{end}}"></span>Verboden
                            Substanties</h4>
                        <p>{{if .UseProhibitedSubstances}}Gerapporteerd{{else}}Niet gerapporteerd{{end}}</p>
                    </div>
                    <div class="type-card {{if .OtherNotifications}}active{{else}}inactive{{end}}">
                        <h4><span class="status-indicator {{if .OtherNotifications}}active{{end}}"></span>Overige
                            Meldingen</h4>
                        <p>{{if .OtherNotifications}}Gerapporteerd{{else}}Niet gerapporteerd{{end}}</p>
                    </div>
                </div>
            </div>

            <div class="section">
                <div class="section-header">
                    <h3>3. Oorzaken & Gevolgen</h3>
                </div>

                <div class="detail-row">
                    <div class="detail-label">Technische Oorzaken</div>
                    <div class="detail-value">
                        {{if .Technical}}
                        <ul class="list-items">
                            {{range .Technical}}
                            <li>{{.}}</li>
                            {{end}}
                        </ul>
                        {{else}}
                        <span class="empty-state">Geen technische oorzaken geïdentificeerd</span>
                        {{end}}
                    </div>
                </div>

                <div class="detail-row">
                    <div class="detail-label">Organisatorische Oorzaken</div>
                    <div class="detail-value">
                        {{if .Organizational}}
                        <ul class="list-items">
                            {{range .Organizational}}
                            <li>{{.}}</li>
                            {{end}}
                        </ul>
                        {{else}}
                        <span class="empty-state">Geen organisatorische oorzaken geïdentificeerd</span>
                        {{end}}
                    </div>
                </div>

                <div class="detail-row">
                    <div class="detail-label">MESE Werknemer Oorzaken</div>
                    <div class="detail-value">
                        {{if .MeseWorker}}
                        <ul class="list-items">
                            {{range .MeseWorker}}
                            <li>{{.}}</li>
                            {{end}}
                        </ul>
                        {{else}}
                        <span class="empty-state">Geen MESE werknemer oorzaken geïdentificeerd</span>
                        {{end}}
                    </div>
                </div>

                <div class="detail-row">
                    <div class="detail-label">Cliëntgerelateerde Oorzaken</div>
                    <div class="detail-value">
                        {{if .ClientOptions}}
                        <ul class="list-items">
                            {{range .ClientOptions}}
                            <li>{{.}}</li>
                            {{end}}
                        </ul>
                        {{else}}
                        <span class="empty-state">Geen cliëntgerelateerde oorzaken geïdentificeerd</span>
                        {{end}}
                    </div>
                </div>

                <div class="detail-row">
                    <div class="detail-label">Overige Oorzaken</div>
                    <div class="detail-value">
                        {{if .OtherCause}}
                        {{.OtherCause}}
                        {{else}}
                        <span class="empty-state">Geen overige oorzaken geïdentificeerd</span>
                        {{end}}
                    </div>
                </div>

                <div class="detail-row">
                    <div class="detail-label">Toelichting Oorzaak</div>
                    <div class="detail-value">
                        {{if .CauseExplanation}}
                        {{.CauseExplanation}}
                        {{else}}
                        <span class="empty-state">Geen toelichting gegeven</span>
                        {{end}}
                    </div>
                </div>

                <div class="detail-row">
                    <div class="detail-label">Lichamelijk Letsel</div>
                    <div class="detail-value">
                        <span class="boolean-value {{if eq .PhysicalInjury " Yes"}}true{{else}}false{{end}}">
                            {{.PhysicalInjury}}
                        </span>
                        {{if .PhysicalInjuryDesc}}
                        <div
                            style="margin-top: 8px; padding: 8px; background: #f8f9fa; border-radius: 4px; font-size: 14px;">
                            {{.PhysicalInjuryDesc}}
                        </div>
                        {{end}}
                    </div>
                </div>

                <div class="detail-row">
                    <div class="detail-label">Psychologische Schade</div>
                    <div class="detail-value">
                        <span class="boolean-value {{if eq .PsychologicalDamage " Yes"}}true{{else}}false{{end}}">
                            {{.PsychologicalDamage}}
                        </span>
                        {{if .PsychologicalDamageDesc}}
                        <div
                            style="margin-top: 8px; padding: 8px; background: #f8f9fa; border-radius: 4px; font-size: 14px;">
                            {{.PsychologicalDamageDesc}}
                        </div>
                        {{end}}
                    </div>
                </div>
            </div>

            <div class="section">
                <div class="section-header">
                    <h3>4. Reactie & Preventie</h3>
                </div>

                <div class="detail-row">
                    <div class="detail-label">Onmiddellijk Genomen Maatregelen</div>
                    <div class="detail-value">
                        {{if .IncidentTakenMeasures}}
                        {{.IncidentTakenMeasures}}
                        {{else}}
                        <span class="empty-state">Geen onmiddellijke maatregelen gedocumenteerd</span>
                        {{end}}
                    </div>
                </div>

                <div class="detail-row">
                    <div class="detail-label">Herhalingsrisico</div>
                    <div class="detail-value">{{.RecurrenceRisk}}</div>
                </div>

                <div class="detail-row">
                    <div class="detail-label">Preventieve Maatregelen</div>
                    <div class="detail-value">
                        {{if .IncidentPreventSteps}}
                        {{.IncidentPreventSteps}}
                        {{else}}
                        <span class="empty-state">Geen preventieve maatregelen gedocumenteerd</span>
                        {{end}}
                    </div>
                </div>

                <div class="detail-row">
                    <div class="detail-label">Consultatie Nodig</div>
                    <div class="detail-value">{{.NeededConsultation}}</div>
                </div>

                <div class="detail-row">
                    <div class="detail-label">Opvolgingsplan</div>
                    <div class="detail-value">
                        {{if .Succession}}
                        <ul class="list-items">
                            {{range .Succession}}
                            <li>{{.}}</li>
                            {{end}}
                        </ul>
                        {{if .SuccessionDesc}}
                        <div
                            style="margin-top: 8px; padding: 8px; background: #f8f9fa; border-radius: 4px; font-size: 14px;">
                            {{.SuccessionDesc}}
                        </div>
                        {{end}}
                        {{else}}
                        <span class="empty-state">Geen opvolgingsplan gedocumenteerd</span>
                        {{end}}
                    </div>
                </div>

                <div class="detail-row">
                    <div class="detail-label">Aanvullende Afspraken</div>
                    <div class="detail-value">
                        {{if .AdditionalAppointments}}
                        {{.AdditionalAppointments}}
                        {{else}}
                        <span class="empty-state">Geen aanvullende afspraken gepland</span>
                        {{end}}
                    </div>
                </div>

                <div class="detail-row">
                    <div class="detail-label">Afwezigheid Werknemer</div>
                    <div class="detail-value">{{.EmployeeAbsenteeism}}</div>
                </div>

                {{if .Other}}
                <div class="detail-row">
                    <div class="detail-label">Overige Informatie</div>
                    <div class="detail-value">
                        {{if .OtherDesc}}
                        {{.OtherDesc}}
                        {{else}}
                        <span class="empty-state">Geen aanvullende informatie gegeven</span>
                        {{end}}
                    </div>
                </div>
                {{end}}
            </div>

            <div class="signature-area">
                <div class="detail-row">
                    <div class="detail-label">Opgesteld door:</div>
                    <div class="detail-value">
                        <div class="signature-line"></div>
                        <div class="signature-label">Handtekening en Datum</div>
                    </div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Beoordeeld door:</div>
                    <div class="detail-value">
                        <div class="signature-line"></div>
                        <div class="signature-label">Handtekening en Datum</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="footer">
            <div>Rapport gegenereerd op {{now.Format "2 januari 2006"}}</div>
            <div>Pagina 1 van 1</div>
        </div>
    </div>
</body>

</html>